Описание
Xsolla Summer School 2021 BE. Тестовое задание.

Приложение представляет собой сервис по управлению товарами в онлайн магазине.

Что реализовано

API-метод для регистрации и авторизации пользователя и разделение на роли("ADMIN" или клиент)

API-метод для создания типа товара 

API-метод для получения всех типов товара 

API-метод для создания товара 

API-метод для обновления товара по id 

API-метод для удаления товара по id 

API-метод для получения всех товаров 

API-метод для получения одного товара по id


JWT-авторизация

Защита от перехвата JWT


Запуск


API
Доступные пользователи (логин, пароль):

admin@gmail.com, 12345, "role": "ADMIN"

qwerty@gmail.com, 22222, "role": "ADMIN"

12345@gmail.com, 55555, "role": "ADMIN"


Описание защиты JWT
Защита заключается в добавлении пользовательского контекста в JWT и Cookie.

При получение токена, в JWT добавляется пользовательский контекст в хешированном виде (алгоритм SHA1),

а в Cookie устанавливается значение в исходном виде. Далее при обращении к API-методам,

срабатывает Middleware-прослойка, которая выполняет дополнительную валидацию пользователя: выполняется получение пользовательского контекста из Cookie и JWT.

Для значения контекста из Cookie вычисляется хеш, который сравнивается со значением из JWT. Если токен будет перехвачен, то запросы к API не пройдут,

так не задано значение контекста в Cookie, а восстановить это значение не получится.
